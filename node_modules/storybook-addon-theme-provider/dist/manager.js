'use strict';

var managerApi = require('@storybook/manager-api');
var n = require('react');
var components = require('@storybook/components');
require('@storybook/preview-api');
var theming = require('@storybook/theming');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var n__default = /*#__PURE__*/_interopDefault(n);

var p="storybook/theme-provider",i=`${p}/tool`;var m=()=>{let[{themes:e,selectedTheme:r},t]=managerApi.useGlobals(),s=n.useCallback(o=>{t({selectedTheme:o});},[t]);return {themes:e,setSelectedTheme:s,selectedTheme:r}};var b="linear-gradient(-45deg, transparent, transparent 45%, pink 45%, pink 55%, transparent 55%, transparent 100%)",a=({colorName:e=b})=>n__default.default.createElement(C,{style:{background:e}}),C=theming.styled.div({width:"16px",height:"16px",borderRadius:"8px",border:"1px solid lightgray"});var h=({themes:e,onSelect:r})=>{let{selectedTheme:t}=m();return !!e&&Array.isArray(e)&&!!t?n__default.default.createElement("div",null,e.map(({name:o,color:T})=>n__default.default.createElement(components.ListItem,{active:t===o,onClick:()=>{t!==o&&r(o);},key:o,title:o,right:n__default.default.createElement(a,{colorName:T})}))):n__default.default.createElement(components.TooltipMessage,{title:"Missing theme config",desc:"Add themes list and selected theme to .storybook/preview.js"})};var c=n.memo(function(){let{themes:r,setSelectedTheme:t}=m(),s=n.useCallback(o=>{t(o);},[r]);return n__default.default.createElement(components.WithTooltipPure,{tooltip:n__default.default.createElement(h,{onSelect:s,themes:r})},n__default.default.createElement(components.IconButton,{key:i,title:"Switch theme"},n__default.default.createElement(components.Icons,{icon:"mirror"})))});managerApi.addons.register(p,()=>{managerApi.addons.add(i,{type:managerApi.types.TOOL,title:"Theme provider",match:({viewMode:e})=>!!(e&&e.match(/^(story|docs)$/)),render:c});});
//# sourceMappingURL=out.js.map
//# sourceMappingURL=manager.js.map